<script src="node_modules/chart.js/src/chart.js"></script>
<div class="col-xs-12" style="height:110px;"></div>

<h1>
    DPS = {{Dps}}
</h1>
<p>Minimum: {{LowestDps}} & Maximum: {{HighestDps}}</p>

<div class="row">
    <div class="col-lg-4">
        <div class="card-box">
            <h4 class="m-t-0 header-title"><b>Spell Breakdown</b></h4>
            <canvas baseChart [data]="breakdownData" [labels]="breakdownLabels" [chartType]="pieChartType" [colors]="bgcolors" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)"></canvas>

        </div>
    </div>
    <div class="col-lg-4">
        <div class="card-box">
            <h4 class="m-t-0 header-title"><b>Energy Timeline</b></h4>
            <canvas baseChart width="400" height="200" [datasets]="energyChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [legend]="lineChartLegend" [chartType]="lineChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)"></canvas>
        </div>
    </div>
    <div class="col-lg-4">
        <div class="card-box">
            <h4 class="m-t-0 header-title"><b>Gimmick Timeline</b></h4>
            <canvas baseChart width="400" height="200" [datasets]="gimmickChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [legend]="lineChartLegend" [chartType]="lineChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)"></canvas>
        </div>
    </div>
</div>
<div class="col-lg-12">
    <h4 class="m-t-0 header-title"><b>Spell Breakdown</b></h4>
    <div class="p-20">
        <table class="table table table-hover m-0">
            <thead>
                <tr>
                    <th>Spell</th>
                    <th>DPS</th>
                    <th>DPS%</th>
                    <th>Executes</th>
                    <th>DPE</th>
                    <th>Type</th>
                    <th>Count</th>
                    <th>Avarage</th>
                    <th>Crit%</th>
                </tr>
            </thead>

            <tbody>
                <tr *ngFor="let spell of breakdownlist">
                    <th scope="row">{{spell.name}}</th>
                    <td>{{spell.damagePerSecond | number:"1.1"}}</td>
                    <td>{{spell.dpsPercentage | number : '1.2-2'}}</td>
                    <td>{{spell.executes | number:"1.1"}}</td>
                    <td>{{spell.damagePerexecution | number:"1.1"}}</td>
                    <td>{{spell.spellType}}</td>
                    <td>{{spell.amount | number:"1.1"}}</td>
                    <td>{{spell.average | number:"1.1"}}</td>
                    <td>{{spell.critChance | number : '1.2-2'}}</td>
                </tr>
            </tbody>


            <tr>
                <th scope="row">Total</th>
                <td>{{Dps}}</td>
                <td>100%</td>
                <td>N/A</td>
                <td>N/A</td>
                <td>N/A</td>
                <td>{{TotalCount}}</td>
                <td>N/A</td>
                <td>{{AvarageCrit}}</td>
            </tr>

            </tbody>
        </table>
    </div>
</div>
<div class="col-lg-12">
    <h4 class="m-t-0 header-title"><b>Buff Breakdown</b></h4>
    <div class="p-20">
        <table class="table table table-hover m-0">
            <thead>
                <tr>
                    <th>Buff</th>
                    <th># of Casts</th>
                    <th>Refresh</th>
                    <th>Interval</th>
                    <th>Executes</th>
                    <th>Uptime%</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let buff of buffbreakdownlist">
                    <th scope="row">{{buff.name}}</th>
                    <td>{{buff.executes}}</td>
                    <td>{{buff.refresh}}</td>
                    <td>{{buff.interval}}</td>
                    <td>{{buff.executes}}</td>
                    <td>33%</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div class="portlet">
            <div class="portlet-heading portlet-default">
                <h3 class="portlet-title text-dark">Sample sequence</h3>
                <div class="portlet-widgets">
                    <a href="javascript:;" data-toggle="reload"><i class="ion-refresh"></i></a>
                    <span class="divider"></span>
                    <a data-toggle="collapse" data-parent="#accordion1" href="#bg-default"><i class="ion-minus-round"></i></a>
                    <span class="divider"></span>
                    <a href="#" data-toggle="remove"><i class="ion-close-round"></i></a>
                </div>
                <div class="clearfix"></div>
            </div>
            <div id="bg-default" class="panel-collapse collapse in">
                <div class="portlet-body">
                    <div innerHTML="{{Raw}}"></div>
                </div>
            </div>
        </div>
    </div>
</div>